(this.webpackJsonpmedium_admin=this.webpackJsonpmedium_admin||[]).push([[0],{103:function(e,t,a){e.exports=a(131)},130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),l=a(23),i=a(27),s=a(79),u=a(80),m=a(81),p=a(82),d=a.n(p).a.create({baseURL:"http://localhost:3030"});d.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e}));var g,h=d,f={Auth:{login:function(e){return h.post("/api/auth/login",e)},details:function(){return h.get("/api/auth/details")}}},b=a(20),E=a(32),x="AUTH_LOGIN",v="AUTH_DETAILS",j="AUTH_LOGOUT",O="_FULFILLED",y="_REJECTED",w="_PENDING",k={loading:!1,error:null,token:localStorage.getItem("token"),user:JSON.parse(localStorage.getItem("user"))},I=(g={},Object(b.a)(g,"".concat(x).concat(w),(function(e){return Object(E.a)({},e,{loading:!0})})),Object(b.a)(g,"".concat(x).concat(y),(function(e,t){var a=t.payload;return Object(E.a)({},e,{loading:!1,error:a})})),Object(b.a)(g,"".concat(x).concat(O),(function(e,t){var a=t.payload.data;return localStorage.setItem("token",a.token),Object(E.a)({},e,{loading:!1,token:a.token})})),Object(b.a)(g,"".concat(v).concat(w),(function(e){return Object(E.a)({},e,{loading:!0})})),Object(b.a)(g,"".concat(v).concat(y),(function(){return function(e,t){var a=t.payload;return Object(E.a)({},e,{loading:!1,error:a})}})),Object(b.a)(g,"".concat(v).concat(O),(function(e,t){var a=t.payload.data;return localStorage.setItem("user",JSON.stringify(a.user)),Object(E.a)({},e,{loading:!1,user:a.user})})),Object(b.a)(g,j,(function(e){return localStorage.removeItem("token"),localStorage.removeItem("user"),Object(E.a)({},e,{token:null,user:null})})),g),N=Object(i.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return I[t.type]&&I[t.type](e,t)||e}}),S=[s.a,u.a.withExtraArgument(f)],C=Object(i.createStore)(N,Object(m.composeWithDevTools)(i.applyMiddleware.apply(void 0,S))),T=a(46),D=a(31),L=a(177),A=a(174),F=a(30),U=a(57),W=a(86),_=a.n(W),R=a(132),B=a(187),J=a(89),H=a.n(J),P=a(181),q=a(87),z=a.n(q),G=function(e){return function(t,a,n){var r=n.Auth;t({type:x,payload:r.login(e)})}},K=Object(A.a)({container:{maxWidth:"380px"},paper:{width:"330px",marginTop:"10px",paddingLeft:"35px",paddingRight:"35px"},workIcon:{marginRight:"5px"},typo:{margin:"30px 0px"},emailText:{margin:"10px 0px"},textField:{paddingRight:"15px",paddingLeft:"15px"},passwordText:{margin:"10px 0px"},button:{marginTop:"40px",marginBottom:"40px"}}),M=function(){var e=Object(l.b)(),t=Object(n.useState)(""),a=Object(F.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),s=Object(F.a)(i,2),u=s[0],m=s[1],p=K();return r.a.createElement(L.a,{container:!0,className:p.container},r.a.createElement(L.a,{container:!0,direction:"row",alignItems:"center",justify:"center"},r.a.createElement(_.a,{fontSize:"large",className:p.workIcon}),r.a.createElement(U.a,{variant:"h4"},"Workspace")),r.a.createElement(R.a,{elevation:3,className:p.paper},r.a.createElement(U.a,{variant:"subtitle1",align:"center",className:p.typo},"Log in to your portal"),r.a.createElement(L.a,{container:!0,spacing:2,alignItems:"flex-end",justify:"center",className:p.emailText},r.a.createElement(L.a,{item:!0,xs:1},r.a.createElement(z.a,null)),r.a.createElement(L.a,{item:!0,xs:11,className:p.textField},r.a.createElement(B.a,{onKeyUp:function(t){13===t.keyCode&&e(G({phone:o,password:u}))},onChange:function(e){return c(e.target.value)},fullWidth:!0,label:"Phone"}))),r.a.createElement(L.a,{container:!0,spacing:2,alignItems:"flex-end",justify:"center",className:p.passwordText},r.a.createElement(L.a,{item:!0,xs:1},r.a.createElement(H.a,null)),r.a.createElement(L.a,{item:!0,xs:11,className:p.textField},r.a.createElement(B.a,{onKeyUp:function(t){13===t.keyCode&&e(G({phone:o,password:u}))},onChange:function(e){return m(e.target.value)},fullWidth:!0,label:"Password",type:"password"}))),r.a.createElement(P.a,{variant:"outlined",fullWidth:!0,className:p.button,onClick:function(){return e(G({phone:o,password:u}))}},"Login")))},$=Object(A.a)({container:{height:"95vh"}}),Q=function(){var e=$();return r.a.createElement(L.a,{className:e.container,container:!0,justify:"center",alignItems:"center"},r.a.createElement(M,null))},V=a(190),X=a(184),Y=a(90),Z=a.n(Y),ee=a(182),te=a(183),ae=a(180),ne=a(91),re=a.n(ne),oe=a(92),ce=a.n(oe),le=a(93),ie=a.n(le),se=[{name:"Dashboard",path:"/dashboard",Icon:re.a,component:function(){return r.a.createElement(r.a.Fragment,null)}},{name:"Articles",path:"/articles",Icon:ce.a,component:function(){return r.a.createElement(r.a.Fragment,null)}},{name:"Settings",path:"/settings",Icon:ie.a,component:function(){return r.a.createElement(r.a.Fragment,null)}}],ue=Object(A.a)({itemText:{marginLeft:"10px"},item:{textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#5E5E5E"}},active:{background:"#CDCDCD","&:hover, &:focus":{background:"#CDCDCD"}}}),me=function(){var e=ue(),t=Object(l.b)(),a=Object(D.g)(),n=Object(l.c)((function(e){return e.auth.user}))||{},o=r.a.createElement(ae.a,null,se.map((function(t){var a,n=t.path,o=t.name,c=t.Icon;return r.a.createElement(T.b,{key:"".concat(n).concat(o),to:n,className:e.item},r.a.createElement(ee.a,{button:!0,className:Z()(e.itemLink,Object(b.a)({},e.active,(a=n,window.location.href.indexOf(a)>-1)))},r.a.createElement(c,null),r.a.createElement(te.a,{disableTypography:!0,primary:o,className:e.itemText})))})));return r.a.createElement(V.a,{anchor:"left",variant:"permanent",open:!0},r.a.createElement(R.a,{elevation:0,style:{width:"260px",height:"100vh",padding:"10px"}},r.a.createElement("div",{style:{display:"flex",height:"120px",justifyContent:"center",alignItems:"center",flexDirection:"column",margin:"10px"}},r.a.createElement("img",{style:{width:"75px",height:"75px",border:"5px solid green",borderRadius:"50%",padding:"1px",borderColor:"#EBEDF2"},alt:"hello",src:n.image}),r.a.createElement(U.a,{align:"center",style:{color:"#5E5E5E"},variant:"h6"},n.fullName)),r.a.createElement(X.a,null),o),r.a.createElement(P.a,{variant:"outlined",onClick:function(){a.push("/"),t({type:j})},style:{margin:"10px"}},"Logout"))},pe=a(185),de=a(186),ge=Object(A.a)({appbar:{background:"rgba(0,0,0,0.02)",boxShadow:"none",zIndex:1,position:"absolute",width:"calc(100% - 270px)"}}),he=function(){var e=Object(n.useState)(null),t=Object(F.a)(e,2),a=t[0],o=t[1],c=ge();return Object(D.g)().listen((function(e){var t=e.pathname;o(se.find((function(e){return e.path===t})))})),r.a.createElement(pe.a,{className:c.appbar},r.a.createElement(de.a,{className:c.toolbar},r.a.createElement(U.a,{variant:"h5",color:"textSecondary"},a?a.name:"")))},fe=function(e){var t=e.children,a=Object(l.b)();return Object(n.useEffect)((function(){a((function(e,t,a){var n=a.Auth;e({type:v,payload:n.details()})}))}),[a]),r.a.createElement("div",null,r.a.createElement(me,null),r.a.createElement("div",{style:{width:"calc(100% - 280px)",float:"right"}},r.a.createElement(he,null),r.a.createElement("div",{style:{marginTop:"65px",padding:"16px"}},t)))},be=function(){return Object(l.c)((function(e){return e.auth.token}))?r.a.createElement(T.a,null,r.a.createElement(fe,null,r.a.createElement(D.d,null,se.map((function(e){var t=e.path,a=e.component;return r.a.createElement(D.b,{key:t,exact:!0,path:t,component:a})})),r.a.createElement(D.a,{from:"/",to:"/dashboard"})))):r.a.createElement(Q,null)},Ee=a(191),xe=a(188),ve=function(e){return r.a.createElement(xe.a,Object.assign({elevation:6,variant:"filled"},e))},je=function(){var e=Object(n.useState)(!1),t=Object(F.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)({}),l=Object(F.a)(c,2),i=l[0],s=l[1],u=function(){o(!1)};return h.interceptors.response.use(null,(function(e){return e.response?s({message:e.response.data.message||e.response.data}):e.request?s({message:e.request}):s({message:e.message}),o(!0),Promise.reject(e)})),r.a.createElement(Ee.a,{open:a,autoHideDuration:4e3,onClose:u},r.a.createElement(ve,{onClose:u,severity:"error"},i.message))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(130);c.a.render(r.a.createElement(l.a,{store:C},r.a.createElement(be,null),r.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.a4bd594e.chunk.js.map